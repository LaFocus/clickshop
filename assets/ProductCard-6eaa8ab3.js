import{u as j,b as q,S as N,a as z,_ as O}from"./MainGoodsItem-0db12466.js";import{z as J,E as D,r as l,a as C,b as H,d as R,o as a,c as r,e as t,f as c,w as u,A as W,F as h,g as I,t as m,u as p,h as k,i as B}from"./index-ae1d49c6.js";import"./swiper-8d28ff12.js";const Y={key:0,class:"productCard"},Z={class:"routes container"},K=t("span",null,"Home/",-1),Q={class:"productCard__inner container"},U={class:"productCard__inner__images"},X=["onClick"],tt=["src"],et={class:"productCard__inner__images-mainImage"},st=["src"],ot={class:"productCard__inner__info"},nt={class:"productCard__inner__info-title"},it={class:"productCard__inner__info-price"},at={class:"productCard__inner__info-description"},rt=t("span",null,"Product description",-1),_t={class:"productCard__inner__info__btns"},lt={class:"productCard__inner__info__btns__amount"},dt=["fill"],ct={key:0,class:"productCard__recommendations container"},ut=t("div",{class:"productCard__recommendations-title"},[t("h3",null,"You may be interested in")],-1),mt={key:0,class:"productCard__recommendations__goods"},Ct={__name:"ProductCard",setup(pt){const f=J(),L=J(),b=j(),S=q(),y=D(),o=l(null),w=l(0),x=l(null),$=y.params.id,v=l(null),E=l(1),d=C(()=>b.resArray),F=C(()=>S.itemInfo),A=i=>{const e=o.value;let s=g();i=="-"?s--:s++,s==0&&(s=1),f.deleteItem(e),f.addItem(e,s)},V=(i,e)=>{w.value=i;const s=e.target.closest(".productCard__inner__images__thumbnails-item");s&&(x.value.querySelectorAll(".productCard__inner__images__thumbnails-item").forEach(_=>{_.classList.remove("active")}),s.classList.add("active"))},G=i=>{const e=JSON.parse(localStorage.getItem("itemsGoods")||"[]"),s=e.findIndex(n=>JSON.stringify(n)===JSON.stringify(i));console.log(s),s!==-1?(e.splice(s,1),v.value.setAttribute("fill","#fff")):(e.push(i),v.value.setAttribute("fill","#030A8C")),localStorage.setItem("itemsGoods",JSON.stringify(e))},P=()=>{window.location.reload()},M=C(()=>JSON.parse(localStorage.getItem("itemsGoods")||"[]").some(s=>JSON.stringify(s)===JSON.stringify(o.value))?"#030A8C":"none"),g=()=>{let i=f.shopsArr.find(e=>e.id==o.value.id);return i?i.amount:1};return H(async()=>{await b.getIndex(),y.params.id&&(await S.getItemInfo($),o.value=F.value),g()}),(i,e)=>{const s=R("router-link");return o.value?(a(),r("div",Y,[t("div",Z,[c(s,{to:"/"},{default:u(()=>[K]),_:1}),W(" Product Card ")]),t("div",Q,[t("div",U,[t("div",{class:"productCard__inner__images__thumbnails",ref_key:"thumbnails",ref:x},[(a(!0),r(h,null,I(o.value.images,(n,_)=>(a(),r("div",{class:"productCard__inner__images__thumbnails-item",key:_,onClick:T=>V(o.value.images.indexOf(n),T)},[t("img",{src:n,alt:"",class:"productCard__inner__images__thumbnails-item-img"},null,8,tt)],8,X))),128))],512),t("div",et,[t("img",{src:o.value.images[w.value],alt:""},null,8,st)])]),t("div",ot,[t("h3",nt,m(o.value.title),1),t("h4",it," $"+m(o.value.price),1),t("div",at,[rt,t("p",null,m(o.value.description),1)]),t("div",_t,[t("div",lt,[t("button",{class:"productCard__inner__info__btns__amount-btn",onClick:e[0]||(e[0]=n=>A("-"))},"-"),t("span",null,m(g()),1),t("button",{class:"productCard__inner__info__btns__amount-btn",onClick:e[1]||(e[1]=n=>A("+"))},"+")]),t("button",{class:"productCard__inner__info__btns-order",onClick:e[2]||(e[2]=n=>p(L).addItem(o.value,E.value))},"Buy NOW"),(a(),r("svg",{onClick:e[3]||(e[3]=n=>G(o.value)),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"20",viewBox:"0 0 24 20",fill:M.value,class:"productCard__inner__info__btns-like"},[t("path",{d:"M12.0069 19L2.67077 10.709C-2.40323 5.73443 5.05554 -3.81677 12.0069 3.91042C18.9583 -3.81677 26.3832 5.7676 21.3431 10.709L12.0069 19Z",stroke:"#030A8C","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",ref_key:"likeFill",ref:v},null,512)],8,dt))])])]),d.value?(a(),r("div",ct,[ut,d.value?(a(),r("div",mt,[c(p(z),{"slides-per-view":1},{default:u(()=>[c(p(N),{class:"productCard__recommendations__goods__slide"},{default:u(()=>[(a(!0),r(h,null,I(d.value.slice(23,27),(n,_)=>(a(),B(O,{key:_,item:n,onClick:P},null,8,["item"]))),128))]),_:1}),c(p(N),{class:"productCard__recommendations__goods__slide"},{default:u(()=>[(a(!0),r(h,null,I(d.value.slice(19,23),(n,_)=>(a(),B(O,{key:_,item:n},null,8,["item"]))),128))]),_:1})]),_:1})])):k("",!0)])):k("",!0)])):k("",!0)}}};export{Ct as default};
